{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "66389b3d_47d2579a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-02-13T00:29:26Z",
      "side": 1,
      "message": "Only the vpx/*.h headers are public headers. Specifically, they are:\n\n```\nvpx/vp8cx.h  vpx/vpx_codec.h    vpx/vpx_ext_ratectrl.h  vpx/vpx_integer.h\nvpx/vp8dx.h  vpx/vpx_decoder.h  vpx/vpx_frame_buffer.h  vpx/vpx_tpl.h\nvpx/vp8.h    vpx/vpx_encoder.h  vpx/vpx_image.h\n```\n\nCode outside libvpx should only include the public headers. Could you tell us what you are trying to do?",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f19acdf_64463e58",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000805
      },
      "writtenOn": "2024-02-13T02:54:13Z",
      "side": 1,
      "message": "Code in Chromium like this: https://source.chromium.org/chromium/chromium/src/+/main:media/base/libaom_thread_wrapper.cc;l\u003d13;drc\u003dd8d185fa4c9e89115c67b4a1e258007fee88fcff\n...seems to want to swap out the default threading implementation on libaom and libvpx with something based on the TaskScheduler. I don\u0027t know anything about either side of this, but if we happen to combine the two .cc files that do this into a single one that #includes both projects\u0027 headers, stuff blows up. This patch and https://chromium-review.googlesource.com/c/webm/libvpx/+/5288835, and the parallel ones on libaom (https://aomedia-review.googlesource.com/c/aom/+/187224, https://aomedia-review.googlesource.com/c/aom/+/187261) make that work.\n\nThey seem like kind of a good idea anyway (minor improvements in dependencies and clarity), so I figured they would be worth landing even if this configuration wasn\u0027t supported.",
      "parentUuid": "66389b3d_47d2579a",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4caa2fd2_c5a62b2c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-02-13T23:13:38Z",
      "side": 1,
      "message": "Thanks for the reply. I forgot to say that the refactoring in this CL is a good idea on its own. I was just objecting to / questioning the reason given for this refactoring.",
      "parentUuid": "8f19acdf_64463e58",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "56363c88_5832a6ff",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000805
      },
      "writtenOn": "2024-02-14T00:54:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4caa2fd2_c5a62b2c",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab2e2552_30963eab",
        "filename": "vpx_util/vpx_pthread.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-02-13T23:13:38Z",
      "side": 1,
      "message": "\u003cerrno.h\u003e doesn\u0027t seem needed by anything in this file.\n\nOn the other hand, it would be good to include a header that defines `NULL` (used at line 57):\nhttps://en.cppreference.com/w/c/types/NULL",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3687d745_7d3592ff",
        "filename": "vpx_util/vpx_pthread.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1000805
      },
      "writtenOn": "2024-02-14T00:54:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ab2e2552_30963eab",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed2f70cb_0bbea4b7",
        "filename": "vpx_util/vpx_thread.h",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-02-13T23:13:38Z",
      "side": 1,
      "message": "It seems bad to cast a pointer to unsigned int. Perhaps we should document that `val` must be `NULL`.",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37c1326a_d09d3d21",
        "filename": "vpx_util/vpx_thread.h",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1000805
      },
      "writtenOn": "2024-02-14T00:54:14Z",
      "side": 1,
      "message": "I went a step further and replaced THREAD_RETURN() with an actual success value, which is less flexible but much clearer.",
      "parentUuid": "ed2f70cb_0bbea4b7",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f93b301_1cbd4c37",
        "filename": "vpx_util/vpx_thread.h",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-02-13T23:13:38Z",
      "side": 1,
      "message": "Move the definitions of the `THREADFN` and `THREAD_RETURN` macros to vpx_util/vpx_thread.c.\n\nUsers of the `VPxWorkerInterface` don\u0027t need to know about `THREADFN` and `THREAD_RETURN`.",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3087d1a9_aa57f391",
        "filename": "vpx_util/vpx_thread.h",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1000805
      },
      "writtenOn": "2024-02-14T00:54:14Z",
      "side": 1,
      "message": "Yes, I independently came to the same conclusion while addressing your previous nit :). Done.",
      "parentUuid": "5f93b301_1cbd4c37",
      "revId": "02ba0fd21ab7e8513afe054e520e408f3f5436d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}