{
  "comments": [
    {
      "key": {
        "uuid": "9f001caf_54da1a62",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2019-08-28T18:24:50Z",
      "side": 1,
      "message": "You\u0027ll want a blank line after the subject line, otherwise git will merge them all into one (you can see that in the title of the gerrit change). We try to follow the guidelines here:\nhttps://git-scm.com/book/en/v2/Distributed-Git-Contributing-to-a-Project#_commit_guidelines\n\nThe first line could be something like:\n\nvp9_mvref_common.h: move arrays from header to .c\n\nwith the rest of the text in the body of the message.",
      "revId": "e9b7b5b73e70e9e41f93508510cc9c602c3e3bca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58ae0077_02f6da09",
        "filename": "vp9/common/vp9_mvref_common.h",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2019-08-28T18:26:42Z",
      "side": 1,
      "message": "vp9 (and av1) will have other instances like this. This is the correct thing to do, but there may be a slight performance loss if immediates are being used with the lookups as now the values aren\u0027t visible in the translation unit. In those cases we usually embed the data into a .inc file and include it directly in the .c to avoid an ODR issue.",
      "revId": "e9b7b5b73e70e9e41f93508510cc9c602c3e3bca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ab75e9a_2fdee1ee",
        "filename": "vp9/common/vp9_mvref_common.h",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1336424
      },
      "writtenOn": "2019-08-28T19:23:45Z",
      "side": 1,
      "message": "Interesting. I didn\u0027t see a .inc file in the repository though. How do I do the perf test to know whether this will slow things down?",
      "parentUuid": "58ae0077_02f6da09",
      "revId": "e9b7b5b73e70e9e41f93508510cc9c602c3e3bca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "924ab1c6_d245a6ed",
        "filename": "vp9/common/vp9_mvref_common.h",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2019-08-29T04:42:05Z",
      "side": 1,
      "message": "\u003e Interesting. I didn\u0027t see a .inc file in the repository though. How do I do the perf test to know whether this will slow things down?\n\nlibvpx doesn\u0027t use that technique at the moment, but we have in other projects [1]. We run some decoder/encoder tests post-submit, but in general it\u0027s done manually before submitting using some representative material and encoder/decoder settings.\n\n[1] https://google.github.io/styleguide/cppguide.html#Self_contained_Headers",
      "parentUuid": "5ab75e9a_2fdee1ee",
      "revId": "e9b7b5b73e70e9e41f93508510cc9c602c3e3bca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54516c07_8a6ce938",
        "filename": "vp9/common/vp9_mvref_common.h",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1336424
      },
      "writtenOn": "2019-09-05T19:52:42Z",
      "side": 1,
      "message": "I\u0027ve looked at the asm generated and it\u0027s not using intermediates. I don\u0027t think we need to use the .inc file.\n\n  214 00007ffd`c07b4784 488d2da5661800  lea     rbp,[blink_modules!mode_2_counter (00007ffd`c093ae30)]\n  214 00007ffd`c07b478b 03748500        add     esi,dword ptr [rbp+rax*4]\n  214 00007ffd`c07b478f 8a442407        mov     al,byte ptr [rsp+7]\n  217 00007ffd`c07b4793 384308          cmp     byte ptr [rbx+8],al\n  217 00007ffd`c07b4796 8974240c        mov     dword ptr [rsp+0Ch],esi\n  217 00007ffd`c07b479a 0f85b3040000    jne     blink_modules!find_mv_refs_idx+0x693 (00007ffd`c07b4c53)",
      "parentUuid": "924ab1c6_d245a6ed",
      "revId": "e9b7b5b73e70e9e41f93508510cc9c602c3e3bca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}