{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "99acacfc_17844384",
        "filename": "tools/tiny_ssim.c",
        "patchSetId": 1
      },
      "lineNbr": 406,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-06-10T19:08:01Z",
      "side": 1,
      "message": "Optional: Inspection of `read_input_file()` shows that it may return `(size_t)-1` on failure. It seems that `read_input_file()` should return 0 instead on failure.",
      "revId": "51278239a4386187d1b579dc9ba73545e7b26743",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd50790c_8e0c9622",
        "filename": "tools/tiny_ssim.c",
        "patchSetId": 1
      },
      "lineNbr": 406,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2024-06-10T20:45:50Z",
      "side": 1,
      "message": "\u003e Optional: Inspection of `read_input_file()` shows that it may return `(size_t)-1` on failure. It seems that `read_input_file()` should return 0 instead on failure.\n\nDone. I masked the failure from `y4m_input_fetch_frame`. The `r1 !\u003d r2` case would catch some cases, but if they both fail with -1 things would continue.",
      "parentUuid": "99acacfc_17844384",
      "revId": "51278239a4386187d1b579dc9ba73545e7b26743",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c519d859_2f0cc5d4",
        "filename": "tools/tiny_ssim.c",
        "patchSetId": 1
      },
      "lineNbr": 417,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-06-10T19:08:01Z",
      "side": 1,
      "message": "Optional: This tries to preserve the original behavior, but in the new code, if we get here, we know `r1` is nonzero. So if `r2` is zero, it should be treated as an error. Agreed?\n\nAmong the three comments, this one is the most serious.",
      "revId": "51278239a4386187d1b579dc9ba73545e7b26743",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf7368d8_a8aa892d",
        "filename": "tools/tiny_ssim.c",
        "patchSetId": 1
      },
      "lineNbr": 417,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2024-06-10T20:45:50Z",
      "side": 1,
      "message": "\u003e Optional: This tries to preserve the original behavior, but in the new code, if we get here, we know `r1` is nonzero. So if `r2` is zero, it should be treated as an error. Agreed?\n\u003e \n\u003e Among the three comments, this one is the most serious.\n\nPreviously if `r1` is non-zero and `r2` is 0 it will hit the `(r1 \u003d\u003d 0 || r2 \u003d\u003d 0)` path. The if was `r1 \u0026\u0026 r2 \u0026\u0026 r1 !\u003d r2` to hit the error path. I think this kind of error would be expected if one file was longer than another.",
      "parentUuid": "c519d859_2f0cc5d4",
      "revId": "51278239a4386187d1b579dc9ba73545e7b26743",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7300402_49cbef86",
        "filename": "tools/tiny_ssim.c",
        "patchSetId": 1
      },
      "lineNbr": 420,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-06-10T19:08:01Z",
      "side": 1,
      "message": "Optional: we should not use `errno` here. The C Standard does not require `fread()` to set `errno` on failure, although POSIX may require that. Also, we may get `r1 !\u003d r2` because of an invalid file, not because of a file I/O error. So we may get here without any `fread()` failure.",
      "revId": "51278239a4386187d1b579dc9ba73545e7b26743",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ba03d1b9_af0104c2",
        "filename": "tools/tiny_ssim.c",
        "patchSetId": 1
      },
      "lineNbr": 420,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2024-06-10T20:45:50Z",
      "side": 1,
      "message": "\u003e Optional: we should not use `errno` here. The C Standard does not require `fread()` to set `errno` on failure, although POSIX may require that. Also, we may get `r1 !\u003d r2` because of an invalid file, not because of a file I/O error. So we may get here without any `fread()` failure.\n\nThat\u0027s true. Really `ferror()` should be used if anything. I\u0027ll update this error message in another change.\n\nhttps://chromium-review.googlesource.com/c/webm/libvpx/+/5617474",
      "parentUuid": "b7300402_49cbef86",
      "revId": "51278239a4386187d1b579dc9ba73545e7b26743",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}