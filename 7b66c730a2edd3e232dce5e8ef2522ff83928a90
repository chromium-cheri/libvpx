{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f8fafa13_203eb111",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1273230
      },
      "writtenOn": "2023-06-05T13:28:31Z",
      "side": 1,
      "message": "This CL, fixes the mismatch between `vp9_diamond_search_sad_c()` and `vp9_diamond_search_sad_avx()`. The output, specifically the motion vector of C vs AVX function differed when there was more than one candidate motion vector with the minimum cost (SAD + MV cost). In this scenario, C function selects the motion vector with the least index. However, the AVX function did not select the motion vector with the least index resulting in mismatch. This CL arranges the cost vector in `vp9_diamond_search_sad_avx()` such that the motion vector with the least index is selected, when there exists more than one candidate motion vector with the minimum cost.\n\nThe results for good preset are as follows.\n```\n                  Instruction Count        BD-Rate Loss(%)\ncpu   Resolution   Reduction(%)    avg.psnr   ovr.psnr    ssim   \n 0       LOWRES2     -0.000         0.0000     0.0000    0.0000  \n 0       MIDRES2     -0.000         0.0000     0.0000    0.0000  \n 0        HDRES2     -0.010         0.0005    -0.0006   -0.0019  \n 0       Average     -0.003         0.0002    -0.0002   -0.0006  \n\n 1       LOWRES2     -0.000         0.0000     0.0000    0.0000  \n 1       MIDRES2     -0.000         0.0000     0.0000    0.0000  \n 1        HDRES2     -0.000        -0.0015    -0.0030   -0.0034  \n 1       Average     -0.000        -0.0005    -0.0010   -0.0011  \n\n 2       LOWRES2     -0.000         0.0000     0.0000    0.0000 \n 2       MIDRES2      0.000        -0.0006    -0.0008   -0.0011 \n 2        HDRES2      0.002        -0.0044    -0.0041   -0.0029 \n 2       Average      0.001        -0.0017    -0.0016   -0.0014 \n\n 3       LOWRES2     -0.000         0.0000     0.0000    0.0000 \n 3       MIDRES2     -0.001        -0.0002    -0.0001   -0.0001 \n 3        HDRES2     -0.000         0.0001     0.0001    0.0005 \n 3       Average     -0.001        -0.0000     0.0000    0.0001 \n\n 4       LOWRES2     -0.000        0.0000     0.0000    0.0000   \n 4       MIDRES2     -0.000        0.0000     0.0000    0.0000   \n 4        HDRES2     -0.000        0.0000     0.0000    0.0000   \n 4       Average     -0.000        0.0000     0.0000    0.0000   \n\n 5       LOWRES2     -0.000        0.0000     0.0000    0.0000   \n 5       MIDRES2     -0.000        0.0000     0.0000    0.0000   \n 5        HDRES2     -0.000        0.0000     0.0000    0.0000   \n 5       Average     -0.000        0.0000     0.0000    0.0000   \n ```",
      "revId": "7b66c730a2edd3e232dce5e8ef2522ff83928a90",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06c9780b_e6c8d8e1",
        "filename": "vp9/encoder/x86/vp9_diamond_search_sad_avx.c",
        "patchSetId": 1
      },
      "lineNbr": 237,
      "author": {
        "id": 1000884
      },
      "writtenOn": "2023-06-05T16:40:50Z",
      "side": 1,
      "message": "Thanks for the fix. Could you add a comment to state the meaning of these 2 instructions? What does the index (0,1,2,3) mean? Thanks.",
      "range": {
        "startLine": 236,
        "startChar": 10,
        "endLine": 237,
        "endChar": 48
      },
      "revId": "7b66c730a2edd3e232dce5e8ef2522ff83928a90",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Owners",
        "description": {
          "value": "User with the code owner override approved the change"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:enabled_code-owners"
          }
        },
        "submittabilityExpression": {
          "expressionString": "has:approval_code-owners"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Owners-Override\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:enabled_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:enabled_code-owners"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:approval_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:approval_code-owners"],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Owners-Override=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Owners-Override=+1"]}
      },
      "patchSetCommitId": "7b66c730a2edd3e232dce5e8ef2522ff83928a90",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "7b66c730a2edd3e232dce5e8ef2522ff83928a90",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Commit-Queue",
        "description": {
          "value": "Submit requirement for the \u0027Commit-Queue\u0027 label"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:false"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:true"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:false"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:true"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "7b66c730a2edd3e232dce5e8ef2522ff83928a90",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "patchSetCommitId": "7b66c730a2edd3e232dce5e8ef2522ff83928a90",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI or human verified the change"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config"
          }
        },
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-branch:refs/meta/config"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["branch:refs/meta/config"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "7b66c730a2edd3e232dce5e8ef2522ff83928a90",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}