{
  "comments": [
    {
      "key": {
        "uuid": "AAAAdn//2k8\u003d",
        "filename": "tools_common.c",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1002431
      },
      "writtenOn": "2014-02-19T07:20:41Z",
      "side": 1,
      "message": "I think this is more correct and future proof, but maybe it should be its own CL?",
      "revId": "73dd7314bb9d0b69cca28c58a30da1211f3f0c10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAdn//2k4\u003d",
        "filename": "tools_common.c",
        "patchSetId": 1
      },
      "lineNbr": 278,
      "author": {
        "id": 1002431
      },
      "writtenOn": "2014-02-19T07:20:41Z",
      "side": 1,
      "message": "Since we die_codec() here it seems fine for this to be void, but this is largely copy/pasted from simple_encoder.c (a bunch of our remaining noise is related to duplicated encoder boiler plate in the examples, and I think encode_frame() is one of the final missing pieces of tools code that will help clean up things on the examples side).\n\nAnyway, not especially fond of this/and could probably use more thought. Likely good enough for the examples, though.",
      "revId": "73dd7314bb9d0b69cca28c58a30da1211f3f0c10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAdn//2ko\u003d",
        "filename": "tools_common.c",
        "patchSetId": 1
      },
      "lineNbr": 278,
      "author": {
        "id": 1002431
      },
      "writtenOn": "2014-02-19T07:28:11Z",
      "side": 1,
      "message": "Sigh. Ignore this until I upload another patchset: I need to (at the very least) make flags an argument to encode_vpx_frame() for it to be really useful.",
      "parentUuid": "AAAAdn//2k4\u003d",
      "revId": "73dd7314bb9d0b69cca28c58a30da1211f3f0c10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAdn//2js\u003d",
        "filename": "tools_common.c",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1002442
      },
      "writtenOn": "2014-02-19T09:32:54Z",
      "side": 1,
      "message": "I think it would be better to pass \u0027duration\u0027, \u0027flags\u0027, and \u0027quality\u0027 as arguments to encode_vpx_frame().",
      "revId": "73dd7314bb9d0b69cca28c58a30da1211f3f0c10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAdn//2hk\u003d",
        "filename": "tools_common.c",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1002431
      },
      "writtenOn": "2014-02-19T17:09:59Z",
      "side": 1,
      "message": "Out of curiosity: Did you read my comments above?",
      "parentUuid": "AAAAdn//2js\u003d",
      "revId": "73dd7314bb9d0b69cca28c58a30da1211f3f0c10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAdn//2jw\u003d",
        "filename": "tools_common.c",
        "patchSetId": 1
      },
      "lineNbr": 293,
      "author": {
        "id": 1002442
      },
      "writtenOn": "2014-02-19T09:32:54Z",
      "side": 1,
      "message": "If my understanding is correct, you can get several (i.e. more than one) packets for single input image, at least for VP8 with alt-ref frames. Each packet should be written to bitstream. According to logic here you are writing only one packet (actually, the last one) to bitstream. Sorry, if I missed something here.",
      "revId": "73dd7314bb9d0b69cca28c58a30da1211f3f0c10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAdn//2ho\u003d",
        "filename": "tools_common.c",
        "patchSetId": 1
      },
      "lineNbr": 293,
      "author": {
        "id": 1002431
      },
      "writtenOn": "2014-02-19T17:09:59Z",
      "side": 1,
      "message": "I know all of these things.\n\nTBH, I think this have worked for most of the examples (since, for the most part, VP8 alt ref isn\u0027t enabled), but it isn\u0027t strictly correct because of the packet handling and the potential that people will experiment with settings.. \n\nAnway, the root problem is that I didn\u0027t want to make tools_common depend on video_writer. Probably should have just put this in video_writer in the first place as a direct copy/paste from simple_encoder. Instead I\u0027ve tried to break encoding and I/O up... which won\u0027t work in all cases.\n\nAnyway, moving this to video_writer and jamming I/O and encode back together. The main thing I care about is the final clean up (and silencing of warnings) that this util function will hopefully allow.",
      "parentUuid": "AAAAdn//2jw\u003d",
      "revId": "73dd7314bb9d0b69cca28c58a30da1211f3f0c10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}