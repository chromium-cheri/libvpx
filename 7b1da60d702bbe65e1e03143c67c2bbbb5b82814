{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "19005d39_e74cc087",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2023-09-21T22:18:31Z",
      "side": 1,
      "message": "LGTM.",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "58c69dfd_bee76d02",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-21T22:54:22Z",
      "side": 1,
      "message": "I don\u0027t remember if this was sufficient. I\u0027m running `sh ../test/examples.sh --bin-path ./examples --filter vp9_c_vs_simd_enc_test` locally to check.",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7776f4e6_101aa2cc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-21T23:16:23Z",
      "side": 1,
      "message": "\u003e I don\u0027t remember if this was sufficient. I\u0027m running `sh ../test/examples.sh --bin-path ./examples --filter vp9_c_vs_simd_enc_test` locally to check.\n\nExits with return code 2.\n\n```\nBuild for: generic-gnu\nBuilding target: generic-gnu\nDone building target: generic-gnu\nvp9 test for x86 (32 bit): Started.\nBuild for x86: x86-linux-gcc\nBuilding target: x86-linux-gcc\n\n../test/vp9_c_vs_simd_encode.sh: line 342: pop_var_context: head of shell_variables not a function context\n../test/vp9_c_vs_simd_encode.sh: line 379: pop_var_context: head of shell_variables not a function context\n../test/tools_common.sh: line 278: pop_var_context: head of shell_variables not a function context\n../test/vp9_c_vs_simd_encode.sh: line 410: pop_var_context: head of shell_variables not a function context\n```",
      "parentUuid": "58c69dfd_bee76d02",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40baa029_54a259d2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-21T23:21:02Z",
      "side": 1,
      "message": "\u003e \u003e I don\u0027t remember if this was sufficient. I\u0027m running `sh ../test/examples.sh --bin-path ./examples --filter vp9_c_vs_simd_enc_test` locally to check.\n\u003e \n\u003e Exits with return code 2.\n\u003e \n\u003e ```\n\u003e Build for: generic-gnu\n\u003e Building target: generic-gnu\n\u003e Done building target: generic-gnu\n\u003e vp9 test for x86 (32 bit): Started.\n\u003e Build for x86: x86-linux-gcc\n\u003e Building target: x86-linux-gcc\n\u003e \n\u003e ../test/vp9_c_vs_simd_encode.sh: line 342: pop_var_context: head of shell_variables not a function context\n\u003e ../test/vp9_c_vs_simd_encode.sh: line 379: pop_var_context: head of shell_variables not a function context\n\u003e ../test/tools_common.sh: line 278: pop_var_context: head of shell_variables not a function context\n\u003e ../test/vp9_c_vs_simd_encode.sh: line 410: pop_var_context: head of shell_variables not a function context\n\u003e ```\n\nLooking at a few threads, this might be noise. The error code is a problem though.",
      "parentUuid": "7776f4e6_101aa2cc",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a86e455_3bdd0e81",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-21T23:24:13Z",
      "side": 1,
      "message": "\u003e \u003e \u003e I don\u0027t remember if this was sufficient. I\u0027m running `sh ../test/examples.sh --bin-path ./examples --filter vp9_c_vs_simd_enc_test` locally to check.\n\u003e \u003e \n\u003e \u003e Exits with return code 2.\n\u003e \u003e \n\u003e \u003e ```\n\u003e \u003e Build for: generic-gnu\n\u003e \u003e Building target: generic-gnu\n\u003e \u003e Done building target: generic-gnu\n\u003e \u003e vp9 test for x86 (32 bit): Started.\n\u003e \u003e Build for x86: x86-linux-gcc\n\u003e \u003e Building target: x86-linux-gcc\n\u003e \u003e \n\u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 342: pop_var_context: head of shell_variables not a function context\n\u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 379: pop_var_context: head of shell_variables not a function context\n\u003e \u003e ../test/tools_common.sh: line 278: pop_var_context: head of shell_variables not a function context\n\u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 410: pop_var_context: head of shell_variables not a function context\n\u003e \u003e ```\n\u003e \n\u003e Looking at a few threads, this might be noise. The error code is a problem though.\n\nMaybe my local environment is incomplete for x86. Let me run this again.",
      "parentUuid": "40baa029_54a259d2",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df88afef_41edcd46",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-21T23:29:35Z",
      "side": 1,
      "message": "\u003e \u003e \u003e \u003e I don\u0027t remember if this was sufficient. I\u0027m running `sh ../test/examples.sh --bin-path ./examples --filter vp9_c_vs_simd_enc_test` locally to check.\n\u003e \u003e \u003e \n\u003e \u003e \u003e Exits with return code 2.\n\u003e \u003e \u003e \n\u003e \u003e \u003e ```\n\u003e \u003e \u003e Build for: generic-gnu\n\u003e \u003e \u003e Building target: generic-gnu\n\u003e \u003e \u003e Done building target: generic-gnu\n\u003e \u003e \u003e vp9 test for x86 (32 bit): Started.\n\u003e \u003e \u003e Build for x86: x86-linux-gcc\n\u003e \u003e \u003e Building target: x86-linux-gcc\n\u003e \u003e \u003e \n\u003e \u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 342: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 379: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e ../test/tools_common.sh: line 278: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 410: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e ```\n\u003e \u003e \n\u003e \u003e Looking at a few threads, this might be noise. The error code is a problem though.\n\u003e \n\u003e Maybe my local environment is incomplete for x86. Let me run this again.\n\nI see the issue. The script expects a multilib gcc (-m32), not a setup using CROSS.",
      "parentUuid": "6a86e455_3bdd0e81",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5762feb9_c02a2649",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-22T00:23:07Z",
      "side": 1,
      "message": "\u003e \u003e \u003e \u003e \u003e I don\u0027t remember if this was sufficient. I\u0027m running `sh ../test/examples.sh --bin-path ./examples --filter vp9_c_vs_simd_enc_test` locally to check.\n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e Exits with return code 2.\n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e ```\n\u003e \u003e \u003e \u003e Build for: generic-gnu\n\u003e \u003e \u003e \u003e Building target: generic-gnu\n\u003e \u003e \u003e \u003e Done building target: generic-gnu\n\u003e \u003e \u003e \u003e vp9 test for x86 (32 bit): Started.\n\u003e \u003e \u003e \u003e Build for x86: x86-linux-gcc\n\u003e \u003e \u003e \u003e Building target: x86-linux-gcc\n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 342: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 379: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e \u003e ../test/tools_common.sh: line 278: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 410: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e \u003e ```\n\u003e \u003e \u003e \n\u003e \u003e \u003e Looking at a few threads, this might be noise. The error code is a problem though.\n\u003e \u003e \n\u003e \u003e Maybe my local environment is incomplete for x86. Let me run this again.\n\u003e \n\u003e I see the issue. The script expects a multilib gcc (-m32), not a setup using CROSS.\n\nThis now compiles, but fails after building:\n\n```\nBuild for: generic-gnu\nBuilding target: generic-gnu\nDone building target: generic-gnu\nvp9 test for x86 (32 bit): Started.\nBuild for x86: x86-linux-gcc\nBuilding target: x86-linux-gcc\nDone building target: x86-linux-gcc\n```\n\nSeems we could use a little more logging / error detail.",
      "parentUuid": "df88afef_41edcd46",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b4ac5b9_71849aa5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-22T00:25:41Z",
      "side": 1,
      "message": "\u003e \u003e \u003e \u003e \u003e \u003e I don\u0027t remember if this was sufficient. I\u0027m running `sh ../test/examples.sh --bin-path ./examples --filter vp9_c_vs_simd_enc_test` locally to check.\n\u003e \u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e \u003e Exits with return code 2.\n\u003e \u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e \u003e ```\n\u003e \u003e \u003e \u003e \u003e Build for: generic-gnu\n\u003e \u003e \u003e \u003e \u003e Building target: generic-gnu\n\u003e \u003e \u003e \u003e \u003e Done building target: generic-gnu\n\u003e \u003e \u003e \u003e \u003e vp9 test for x86 (32 bit): Started.\n\u003e \u003e \u003e \u003e \u003e Build for x86: x86-linux-gcc\n\u003e \u003e \u003e \u003e \u003e Building target: x86-linux-gcc\n\u003e \u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 342: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e \u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 379: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e \u003e \u003e ../test/tools_common.sh: line 278: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e \u003e \u003e ../test/vp9_c_vs_simd_encode.sh: line 410: pop_var_context: head of shell_variables not a function context\n\u003e \u003e \u003e \u003e \u003e ```\n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e Looking at a few threads, this might be noise. The error code is a problem though.\n\u003e \u003e \u003e \n\u003e \u003e \u003e Maybe my local environment is incomplete for x86. Let me run this again.\n\u003e \u003e \n\u003e \u003e I see the issue. The script expects a multilib gcc (-m32), not a setup using CROSS.\n\u003e \n\u003e This now compiles, but fails after building:\n\u003e \n\u003e ```\n\u003e Build for: generic-gnu\n\u003e Building target: generic-gnu\n\u003e Done building target: generic-gnu\n\u003e vp9 test for x86 (32 bit): Started.\n\u003e Build for x86: x86-linux-gcc\n\u003e Building target: x86-linux-gcc\n\u003e Done building target: x86-linux-gcc\n\u003e ```\n\u003e \n\u003e Seems we could use a little more logging / error detail.\n\nWe do set `--verbose --show-program-output` in jenkins, however.",
      "parentUuid": "5762feb9_c02a2649",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5c5ec52_fdaf2662",
        "filename": "test/vp9_c_vs_simd_encode.sh",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-22T00:57:28Z",
      "side": 1,
      "message": "remove this line. It will interfere with the value from tools_common.sh",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b57ec290_ed138089",
        "filename": "test/vp9_c_vs_simd_encode.sh",
        "patchSetId": 2
      },
      "lineNbr": 148,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-22T01:42:03Z",
      "side": 1,
      "message": "make this `if ! grep -q \"$instruction_set\" /proc/cpuinfo; then` and remove the check on `$?`. tools_common.sh uses `set -e`. An alternative would be to simply do `grep -q \"$instruction_set\" /proc/cpuinfo || false`",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5f713c3_7dcc2361",
        "filename": "test/vp9_c_vs_simd_encode.sh",
        "patchSetId": 2
      },
      "lineNbr": 346,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2023-09-22T01:42:03Z",
      "side": 1,
      "message": "this will need to be `if ! has_...` as well.",
      "revId": "7b1da60d702bbe65e1e03143c67c2bbbb5b82814",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}