{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "faffa42f_543faef6",
        "filename": "vp8/encoder/onyx_if.c",
        "patchSetId": 1
      },
      "lineNbr": 1270,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-05-23T23:16:50Z",
      "side": 1,
      "message": "I noticed that `round()` is used in the VP8 and AV1 code but not in the VP9 code. We should make all three versions of the code consistent. Should `round()` be used in this calculation?",
      "range": {
        "startLine": 1270,
        "startChar": 6,
        "endLine": 1270,
        "endChar": 11
      },
      "revId": "1dd871a997096a8feda380b45b9d8e5f2a9f373c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5844bb60_f5d7ed66",
        "filename": "vp8/encoder/onyx_if.c",
        "patchSetId": 1
      },
      "lineNbr": 1270,
      "author": {
        "id": 1002219
      },
      "writtenOn": "2024-05-23T23:33:13Z",
      "side": 1,
      "message": "\u003e I noticed that `round()` is used in the VP8 and AV1 code but not in the VP9 code. We should make all three versions of the code consistent. Should `round()` be used in this calculation?\n\nRounding was added for VP8 much later:\n\nhttps://chromium-review.googlesource.com/c/webm/libvpx/+/3173770/8/vp8/encoder/onyx_if.c\n\nJerome might be able to comment.",
      "parentUuid": "faffa42f_543faef6",
      "range": {
        "startLine": 1270,
        "startChar": 6,
        "endLine": 1270,
        "endChar": 11
      },
      "revId": "1dd871a997096a8feda380b45b9d8e5f2a9f373c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71aca6f0_8444f1b9",
        "filename": "vp8/encoder/onyx_if.c",
        "patchSetId": 1
      },
      "lineNbr": 1270,
      "author": {
        "id": 1001562
      },
      "writtenOn": "2024-05-28T16:59:54Z",
      "side": 1,
      "message": "Jerome: Do you think we should add `round()` to the corresponding code in VP9?",
      "parentUuid": "5844bb60_f5d7ed66",
      "range": {
        "startLine": 1270,
        "startChar": 6,
        "endLine": 1270,
        "endChar": 11
      },
      "revId": "1dd871a997096a8feda380b45b9d8e5f2a9f373c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b25a851_dc7929cd",
        "filename": "vp8/encoder/onyx_if.c",
        "patchSetId": 1
      },
      "lineNbr": 1270,
      "author": {
        "id": 1171444
      },
      "writtenOn": "2024-05-28T17:03:15Z",
      "side": 1,
      "message": "Yes I think so.\n\nIt was added to VP8 and AV1 because the division without rounding could lead to the result to be different by +-1, and the error can be accumulated through many frames and eventually it\u0027ll lead to different QP decisions in **RTC rate control library**.\n\nWe observed this behavor in VP8 and AV1 RTC RC library, but it hasn\u0027t shown up for VP9. But I think it\u0027s good to have to prevent it from happening in the future.",
      "parentUuid": "71aca6f0_8444f1b9",
      "range": {
        "startLine": 1270,
        "startChar": 6,
        "endLine": 1270,
        "endChar": 11
      },
      "revId": "1dd871a997096a8feda380b45b9d8e5f2a9f373c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}