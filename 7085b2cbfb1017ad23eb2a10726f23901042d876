{
  "comments": [
    {
      "key": {
        "uuid": "AAAAFn//tCI\u003d",
        "filename": "vp8/decoder/decodframe.c",
        "patchSetId": 5
      },
      "lineNbr": 542,
      "author": {
        "id": 1000895
      },
      "writtenOn": "2011-10-26T11:27:11Z",
      "side": 1,
      "message": "i would stick to \"partition\" naming when partitions are involved... fragment was introduced to name a bunch of partitions, 1 or more.",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//tCM\u003d",
        "filename": "vp8/decoder/decodframe.c",
        "patchSetId": 5
      },
      "lineNbr": 556,
      "author": {
        "id": 1000895
      },
      "writtenOn": "2011-10-26T11:27:11Z",
      "side": 1,
      "message": "this should be num_token_partitions - 1, as this is the number of extra decoding threads used, main is not counted in",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//tss\u003d",
        "filename": "vpx/vpx_decoder.h",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 1000895
      },
      "writtenOn": "2011-10-25T05:46:20Z",
      "side": 1,
      "message": "i\u0027m not sure i get this, can be there but must be empty?",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//tr8\u003d",
        "filename": "vpx/vpx_decoder.h",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 1126892
      },
      "writtenOn": "2011-10-25T07:04:43Z",
      "side": 1,
      "message": "As an example, fragment 4 must be empty if fragment 3 contains partition 3 and 4. A situation where fragment 3 contains both partition 3 and half of partition 4, and where the other half of partition 4 is in fragment 4 is not allowed.\n\nDoes that make things more clear?",
      "parentUuid": "AAAAFn//tss\u003d",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//trg\u003d",
        "filename": "vpx/vpx_decoder.h",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 1000895
      },
      "writtenOn": "2011-10-25T07:50:41Z",
      "side": 1,
      "message": "got it, but this for me implies that there are empty fragments in-between non-empty ones and they have to be passed to decoder...like fragment 0 contains part 0+1 frag 1 \u003d empty frag 2 \u003d part 2?\nam i missing a fragment id somewhere again?\n\nit seems that application has to call decode with size\u003d0 to signal an empty fragment...this assumes that application knows how many partitions are in the fragment and more exactly the partition id for each of them.. what happens if a fragment is lost in the middle of frame?\n\nwhole frame in one fragment \u003d\u003e call decode 8 more times to signal 8 empty fragments?",
      "parentUuid": "AAAAFn//tr8\u003d",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//trQ\u003d",
        "filename": "vpx/vpx_decoder.h",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 1000895
      },
      "writtenOn": "2011-10-25T07:58:21Z",
      "side": 1,
      "message": "ok, for frame end you call with end-of-data, but still we could end up with 7 empty calls for last part in own fragment...?",
      "parentUuid": "AAAAFn//trg\u003d",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//tqY\u003d",
        "filename": "vpx/vpx_decoder.h",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 1126892
      },
      "writtenOn": "2011-10-25T11:12:11Z",
      "side": 1,
      "message": "For a frame where the first packet contains all 9 partitions we would call the decoder twice. Once with the actual frame data and once to signal end-of-data.",
      "parentUuid": "AAAAFn//trQ\u003d",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//tqc\u003d",
        "filename": "vpx/vpx_decoder.h",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 1126892
      },
      "writtenOn": "2011-10-25T11:12:11Z",
      "side": 1,
      "message": "The RTP profile for VP8 specifies partition numbers and beginningOfPartition bits for all packets, which is enough to derive that information before decoding.\n\nHowever, we can\u0027t easily split a packet which contains several partitions without parsing the VP8 bitstream, that\u0027s why we need this API.",
      "parentUuid": "AAAAFn//trg\u003d",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//tp0\u003d",
        "filename": "vpx/vpx_decoder.h",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 1000895
      },
      "writtenOn": "2011-10-25T11:39:44Z",
      "side": 1,
      "message": "i\u0027m not questioning the need of this API, i just play the first time user of this API...i\u0027m just concerned that the usage gets complicated...could extend the API to signal first partition # in fragment and let the decoder than figure out how many partitions present and how many missing?",
      "parentUuid": "AAAAFn//tqc\u003d",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//tCs\u003d",
        "filename": "vpx/vpx_decoder.h",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 1126892
      },
      "writtenOn": "2011-10-26T09:25:09Z",
      "side": 1,
      "message": "That would be possible as well, and that\u0027s more or less what the current API does, but without explicitly having a parameter for \"first partition # in fragment\". \n\nThe downside is that we have to add another parameter to vpx_codec_decode(), which would also affect the default API when VPX_CODEC_USE_INPUT_FRAGMENTS is disabled, and in that situation such a parameter wouldn\u0027t make much sense.\n\nOr we\u0027d have to create a separate decode function for decoding fragments.\n\nI don\u0027t have a very strong opinion on how to signal this, but I like the current way since it doesn\u0027t change the default API and doesn\u0027t add additional decode functions.",
      "parentUuid": "AAAAFn//tp0\u003d",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAFn//tCg\u003d",
        "filename": "vpx/vpx_decoder.h",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 1000895
      },
      "writtenOn": "2011-10-26T11:27:11Z",
      "side": 1,
      "message": "ok, just to summarize, vpx_codec_decode has to be called as many times as partitions there are!? with fragment data, with 0 length data for  empty fragments/missing fragments and null data for end of frame?",
      "parentUuid": "AAAAFn//tCs\u003d",
      "revId": "7085b2cbfb1017ad23eb2a10726f23901042d876",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}